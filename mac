save_reg macro
	push ax
	push bx
	push cx
	push dx
	push si
	push di
endm

load_reg macro
	pop di
	pop si
	pop dx
	pop cx
	pop bx
	pop ax
endm

printw macro n,string
	local stacking,printing
	save_reg
	mov ax,n
	mov bx,10d
	xor cx,cx
stacking:
	xor dx,dx
	div bx
	inc cx
	or dx,30h
	push dx
	or ax,ax
	jne stacking
	
	lea di,string
	
printing:
	pop ax
	mov [di],al
	inc di
	loop printing
	mov [di],'$'
	load_reg
endm